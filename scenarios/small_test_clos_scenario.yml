seed: 42
blueprints:
  Clos_16_8:
    groups:
      spine:
        node_count: 8
        name_template: spine{node_num}
        attrs:
          role: spine
          tier: spine
          hardware:
            component: SpineRouter
            count: 1
      leaf:
        node_count: 16
        name_template: leaf{node_num}
        attrs:
          role: leaf
          tier: leaf
          hardware:
            component: LeafRouter
            count: 1
    adjacency:
    - source: /leaf
      target: /spine
      pattern: mesh
      link_params:
        capacity: 3200
        cost: 1
        attrs:
          link_type: leaf_spine
  DCRegion:
    groups:
      dc:
        node_count: 1
        name_template: dc
        attrs:
          role: dc
    adjacency: []
  SingleRouter:
    groups:
      core:
        node_count: 1
        name_template: core
        attrs:
          role: core
          hardware:
            component: CoreRouter
            count: 1
    adjacency: []
components:
  1600G-2xDR4:
    component_type: optic
    description: 1600G 2xDR4 pluggable optic
    capex: 10000.0
    power_watts: 24.0
    power_watts_max: 26.0
    capacity: 1600.0
    ports: 8
    attrs: {}
  800G-DR4:
    component_type: optic
    description: 800G DR4 pluggable optic
    capex: 10000.0
    power_watts: 29.0
    power_watts_max: 30.0
    capacity: 800.0
    ports: 4
    attrs: {}
  800G-ZR+:
    component_type: optic
    description: 800G ZR+ pluggable optic
    capex: 10000.0
    power_watts: 29.0
    power_watts_max: 30.0
    capacity: 800.0
    ports: 1
    attrs: {}
  CoreRouter:
    component_type: chassis
    description: 16 slot, 36x800G ports per slot, 576 ports total
    capex: 650000.0
    power_watts: 23000.0
    power_watts_max: 30000.0
    capacity: 460800.0
    ports: 576
    attrs:
      role: core
  LeafRouter:
    component_type: chassis
    description: 64x800G ports, Q4D chipset
    capex: 85000.0
    power_watts: 2000.0
    power_watts_max: 3000.0
    capacity: 51200.0
    ports: 64
    attrs:
      role: leaf
  SpineRouter:
    component_type: chassis
    description: 64x1600G ports, TH6 chipset
    capex: 55000.0
    power_watts: 2000.0
    power_watts_max: 3000.0
    capacity: 102400.0
    ports: 64
    attrs:
      role: spine
network:
  groups:
    metro1/pop[1-2]:
      use_blueprint: Clos_16_8
      attrs:
        metro_name: new-york-jersey-city-newark
        metro_name_orig: New York--Jersey City--Newark, NY--NJ
        metro_id: '63217'
        location_x: 1815314.3
        location_y: 2173703.3
        radius_km: 51.75
        node_type: pop
    metro1/dc[1-1]:
      use_blueprint: DCRegion
      attrs:
        metro_name: new-york-jersey-city-newark
        metro_name_orig: New York--Jersey City--Newark, NY--NJ
        metro_id: '63217'
        location_x: 1815314.3
        location_y: 2173703.3
        radius_km: 51.75
        node_type: dc_region
        mw_per_dc_region: 500.0
        gbps_per_mw: 250.0
    metro2/pop[1-2]:
      use_blueprint: Clos_16_8
      attrs:
        metro_name: washington-arlington
        metro_name_orig: Washington--Arlington, DC--VA--MD
        metro_id: '92242'
        location_x: 1602747.8
        location_y: 1921533.9
        radius_km: 32.67
        node_type: pop
    metro2/dc[1-1]:
      use_blueprint: DCRegion
      attrs:
        metro_name: washington-arlington
        metro_name_orig: Washington--Arlington, DC--VA--MD
        metro_id: '92242'
        location_x: 1602747.8
        location_y: 1921533.9
        radius_km: 32.67
        node_type: dc_region
        mw_per_dc_region: 500.0
        gbps_per_mw: 250.0
    metro3/pop[1-2]:
      use_blueprint: SingleRouter
      attrs:
        metro_name: chicago
        metro_name_orig: Chicago, IL--IN
        metro_id: '16264'
        location_x: 664412.8
        location_y: 2133983.6
        radius_km: 43.9
        node_type: pop
    metro4/pop[1-2]:
      use_blueprint: SingleRouter
      attrs:
        metro_name: atlanta
        metro_name_orig: Atlanta, GA
        metro_id: 03817
        location_x: 1056698.7
        location_y: 1255491.7
        radius_km: 44.95
        node_type: pop
    metro5/pop[1-2]:
      use_blueprint: Clos_16_8
      attrs:
        metro_name: columbus
        metro_name_orig: Columbus, OH
        metro_id: '19234'
        location_x: 1097168.9
        location_y: 1967599.1
        radius_km: 20.63
        node_type: pop
    metro5/dc[1-1]:
      use_blueprint: DCRegion
      attrs:
        metro_name: columbus
        metro_name_orig: Columbus, OH
        metro_id: '19234'
        location_x: 1097168.9
        location_y: 1967599.1
        radius_km: 20.63
        node_type: dc_region
        mw_per_dc_region: 500.0
        gbps_per_mw: 250.0
  adjacency:
  - source:
      path: metro1/pop1
      match: &id001
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
    target:
      path: metro1/pop2
      match: *id001
    pattern: one_to_one
    link_params:
      capacity: 4600.0
      cost: 163
      attrs:
        link_type: intra_metro
        source_metro: new-york-jersey-city-newark
        target_metro: new-york-jersey-city-newark
        site_edge: metro1/pop1|metro1/pop2|intra_metro:new-york-jersey-city-newark:1-2
        adjacency_id: intra_metro:new-york-jersey-city-newark
        distance_km: 163
        hardware:
          source:
            component: 800G-ZR+
            count: 6.0
          target:
            component: 800G-ZR+
            count: 6.0
  - source:
      path: metro1/pop1
      match: &id002
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: dc
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro1/dc1
      match: *id002
    pattern: one_to_one
    link_params:
      capacity: 6800.0
      cost: 1
      attrs:
        link_type: dc_to_pop
        source_metro: new-york-jersey-city-newark
        target_metro: new-york-jersey-city-newark
        site_edge: metro1/pop1|metro1/dc1|dc_to_pop:new-york-jersey-city-newark:1-1
        adjacency_id: dc_to_pop:new-york-jersey-city-newark
        distance_km: 1
        hardware:
          source:
            component: 800G-ZR+
            count: 9.0
          target:
            component: 800G-ZR+
            count: 9.0
  - source:
      path: metro1/pop1
      match: &id003
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro2/pop1
      match: *id003
    pattern: one_to_one
    link_params:
      capacity: 1800.0
      cost: 412
      attrs:
        link_type: inter_metro_corridor
        source_metro: new-york-jersey-city-newark
        target_metro: washington-arlington
        site_edge: metro1/pop1|metro2/pop1|inter_metro:1-2:1-1
        adjacency_id: inter_metro:1-2
        distance_km: 412
        hardware:
          source:
            component: 800G-ZR+
            count: 3.0
          target:
            component: 800G-ZR+
            count: 3.0
      risk_groups: &id005
      - corridor_risk_columbus_new-york-jersey-city-newark
      - corridor_risk_new-york-jersey-city-newark_washington-arlington
  - source:
      path: metro1/pop1
      match: &id004
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro2/pop2
      match: *id004
    pattern: one_to_one
    link_params:
      capacity: 1800.0
      cost: 412
      attrs:
        link_type: inter_metro_corridor
        source_metro: new-york-jersey-city-newark
        target_metro: washington-arlington
        site_edge: metro1/pop1|metro2/pop2|inter_metro:1-2:1-2
        adjacency_id: inter_metro:1-2
        distance_km: 412
        hardware:
          source:
            component: 800G-ZR+
            count: 3.0
          target:
            component: 800G-ZR+
            count: 3.0
      risk_groups: *id005
  - source:
      path: metro1/pop1
      match: &id006
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro5/pop1
      match: *id006
    pattern: one_to_one
    link_params:
      capacity: 1000.0
      cost: 977
      attrs:
        link_type: inter_metro_corridor
        source_metro: new-york-jersey-city-newark
        target_metro: columbus
        site_edge: metro1/pop1|metro5/pop1|inter_metro:1-5:1-1
        adjacency_id: inter_metro:1-5
        distance_km: 977
        hardware:
          source:
            component: 800G-ZR+
            count: 2.0
          target:
            component: 800G-ZR+
            count: 2.0
      risk_groups: &id008
      - corridor_risk_chicago_washington-arlington
      - corridor_risk_columbus_new-york-jersey-city-newark
      - corridor_risk_columbus_washington-arlington
      - corridor_risk_new-york-jersey-city-newark_washington-arlington
  - source:
      path: metro1/pop1
      match: &id007
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro5/pop2
      match: *id007
    pattern: one_to_one
    link_params:
      capacity: 1000.0
      cost: 977
      attrs:
        link_type: inter_metro_corridor
        source_metro: new-york-jersey-city-newark
        target_metro: columbus
        site_edge: metro1/pop1|metro5/pop2|inter_metro:1-5:1-2
        adjacency_id: inter_metro:1-5
        distance_km: 977
        hardware:
          source:
            component: 800G-ZR+
            count: 2.0
          target:
            component: 800G-ZR+
            count: 2.0
      risk_groups: *id008
  - source:
      path: metro1/pop2
      match: *id002
    target:
      path: metro1/dc1
      match: *id002
    pattern: one_to_one
    link_params:
      capacity: 6800.0
      cost: 163
      attrs:
        link_type: dc_to_pop
        source_metro: new-york-jersey-city-newark
        target_metro: new-york-jersey-city-newark
        site_edge: metro1/pop2|metro1/dc1|dc_to_pop:new-york-jersey-city-newark:1-2
        adjacency_id: dc_to_pop:new-york-jersey-city-newark
        distance_km: 163
        hardware:
          source:
            component: 800G-ZR+
            count: 9.0
          target:
            component: 800G-ZR+
            count: 9.0
  - source:
      path: metro1/pop2
      match: &id009
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro2/pop1
      match: *id009
    pattern: one_to_one
    link_params:
      capacity: 1800.0
      cost: 412
      attrs:
        link_type: inter_metro_corridor
        source_metro: new-york-jersey-city-newark
        target_metro: washington-arlington
        site_edge: metro1/pop2|metro2/pop1|inter_metro:1-2:2-1
        adjacency_id: inter_metro:1-2
        distance_km: 412
        hardware:
          source:
            component: 800G-ZR+
            count: 3.0
          target:
            component: 800G-ZR+
            count: 3.0
      risk_groups: *id005
  - source:
      path: metro1/pop2
      match: &id010
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro2/pop2
      match: *id010
    pattern: one_to_one
    link_params:
      capacity: 1800.0
      cost: 412
      attrs:
        link_type: inter_metro_corridor
        source_metro: new-york-jersey-city-newark
        target_metro: washington-arlington
        site_edge: metro1/pop2|metro2/pop2|inter_metro:1-2:2-2
        adjacency_id: inter_metro:1-2
        distance_km: 412
        hardware:
          source:
            component: 800G-ZR+
            count: 3.0
          target:
            component: 800G-ZR+
            count: 3.0
      risk_groups: *id005
  - source:
      path: metro1/pop2
      match: &id011
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro5/pop1
      match: *id011
    pattern: one_to_one
    link_params:
      capacity: 1000.0
      cost: 977
      attrs:
        link_type: inter_metro_corridor
        source_metro: new-york-jersey-city-newark
        target_metro: columbus
        site_edge: metro1/pop2|metro5/pop1|inter_metro:1-5:2-1
        adjacency_id: inter_metro:1-5
        distance_km: 977
        hardware:
          source:
            component: 800G-ZR+
            count: 2.0
          target:
            component: 800G-ZR+
            count: 2.0
      risk_groups: *id008
  - source:
      path: metro1/pop2
      match: &id012
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro5/pop2
      match: *id012
    pattern: one_to_one
    link_params:
      capacity: 1000.0
      cost: 977
      attrs:
        link_type: inter_metro_corridor
        source_metro: new-york-jersey-city-newark
        target_metro: columbus
        site_edge: metro1/pop2|metro5/pop2|inter_metro:1-5:2-2
        adjacency_id: inter_metro:1-5
        distance_km: 977
        hardware:
          source:
            component: 800G-ZR+
            count: 2.0
          target:
            component: 800G-ZR+
            count: 2.0
      risk_groups: *id008
  - source:
      path: metro2/pop1
      match: &id013
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
    target:
      path: metro2/pop2
      match: *id013
    pattern: one_to_one
    link_params:
      capacity: 5800.0
      cost: 103
      attrs:
        link_type: intra_metro
        source_metro: washington-arlington
        target_metro: washington-arlington
        site_edge: metro2/pop1|metro2/pop2|intra_metro:washington-arlington:1-2
        adjacency_id: intra_metro:washington-arlington
        distance_km: 103
        hardware:
          source:
            component: 800G-ZR+
            count: 8.0
          target:
            component: 800G-ZR+
            count: 8.0
  - source:
      path: metro2/pop1
      match: &id014
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: dc
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro2/dc1
      match: *id014
    pattern: one_to_one
    link_params:
      capacity: 8800.0
      cost: 1
      attrs:
        link_type: dc_to_pop
        source_metro: washington-arlington
        target_metro: washington-arlington
        site_edge: metro2/pop1|metro2/dc1|dc_to_pop:washington-arlington:1-1
        adjacency_id: dc_to_pop:washington-arlington
        distance_km: 1
        hardware:
          source:
            component: 800G-ZR+
            count: 11.0
          target:
            component: 800G-ZR+
            count: 11.0
  - source:
      path: metro2/pop1
      match: &id015
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro3/pop1
      match: *id015
    pattern: one_to_one
    link_params:
      capacity: 200.0
      cost: 1261
      attrs:
        link_type: inter_metro_corridor
        source_metro: washington-arlington
        target_metro: chicago
        site_edge: metro2/pop1|metro3/pop1|inter_metro:2-3:1-1
        adjacency_id: inter_metro:2-3
        distance_km: 1261
        hardware:
          source:
            component: 800G-ZR+
            count: 1.0
          target:
            component: 800G-ZR+
            count: 1.0
      risk_groups: &id017
      - corridor_risk_chicago_washington-arlington
      - corridor_risk_columbus_new-york-jersey-city-newark
      - corridor_risk_columbus_washington-arlington
  - source:
      path: metro2/pop1
      match: &id016
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro3/pop2
      match: *id016
    pattern: one_to_one
    link_params:
      capacity: 200.0
      cost: 1261
      attrs:
        link_type: inter_metro_corridor
        source_metro: washington-arlington
        target_metro: chicago
        site_edge: metro2/pop1|metro3/pop2|inter_metro:2-3:1-2
        adjacency_id: inter_metro:2-3
        distance_km: 1261
        hardware:
          source:
            component: 800G-ZR+
            count: 1.0
          target:
            component: 800G-ZR+
            count: 1.0
      risk_groups: *id017
  - source:
      path: metro2/pop1
      match: &id018
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro4/pop1
      match: *id018
    pattern: one_to_one
    link_params:
      capacity: 200.0
      cost: 1216
      attrs:
        link_type: inter_metro_corridor
        source_metro: washington-arlington
        target_metro: atlanta
        site_edge: metro2/pop1|metro4/pop1|inter_metro:2-4:1-1
        adjacency_id: inter_metro:2-4
        distance_km: 1216
        hardware:
          source:
            component: 800G-ZR+
            count: 1.0
          target:
            component: 800G-ZR+
            count: 1.0
      risk_groups: &id020
      - corridor_risk_atlanta_washington-arlington
  - source:
      path: metro2/pop1
      match: &id019
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro4/pop2
      match: *id019
    pattern: one_to_one
    link_params:
      capacity: 200.0
      cost: 1216
      attrs:
        link_type: inter_metro_corridor
        source_metro: washington-arlington
        target_metro: atlanta
        site_edge: metro2/pop1|metro4/pop2|inter_metro:2-4:1-2
        adjacency_id: inter_metro:2-4
        distance_km: 1216
        hardware:
          source:
            component: 800G-ZR+
            count: 1.0
          target:
            component: 800G-ZR+
            count: 1.0
      risk_groups: *id020
  - source:
      path: metro2/pop1
      match: &id021
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro5/pop1
      match: *id021
    pattern: one_to_one
    link_params:
      capacity: 1400.0
      cost: 733
      attrs:
        link_type: inter_metro_corridor
        source_metro: washington-arlington
        target_metro: columbus
        site_edge: metro2/pop1|metro5/pop1|inter_metro:2-5:1-1
        adjacency_id: inter_metro:2-5
        distance_km: 733
        hardware:
          source:
            component: 800G-ZR+
            count: 2.0
          target:
            component: 800G-ZR+
            count: 2.0
      risk_groups: &id023
      - corridor_risk_chicago_washington-arlington
      - corridor_risk_columbus_new-york-jersey-city-newark
      - corridor_risk_columbus_washington-arlington
  - source:
      path: metro2/pop1
      match: &id022
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro5/pop2
      match: *id022
    pattern: one_to_one
    link_params:
      capacity: 1400.0
      cost: 733
      attrs:
        link_type: inter_metro_corridor
        source_metro: washington-arlington
        target_metro: columbus
        site_edge: metro2/pop1|metro5/pop2|inter_metro:2-5:1-2
        adjacency_id: inter_metro:2-5
        distance_km: 733
        hardware:
          source:
            component: 800G-ZR+
            count: 2.0
          target:
            component: 800G-ZR+
            count: 2.0
      risk_groups: *id023
  - source:
      path: metro2/pop2
      match: *id014
    target:
      path: metro2/dc1
      match: *id014
    pattern: one_to_one
    link_params:
      capacity: 8800.0
      cost: 103
      attrs:
        link_type: dc_to_pop
        source_metro: washington-arlington
        target_metro: washington-arlington
        site_edge: metro2/pop2|metro2/dc1|dc_to_pop:washington-arlington:1-2
        adjacency_id: dc_to_pop:washington-arlington
        distance_km: 103
        hardware:
          source:
            component: 800G-ZR+
            count: 11.0
          target:
            component: 800G-ZR+
            count: 11.0
  - source:
      path: metro2/pop2
      match: &id024
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro3/pop1
      match: *id024
    pattern: one_to_one
    link_params:
      capacity: 200.0
      cost: 1261
      attrs:
        link_type: inter_metro_corridor
        source_metro: washington-arlington
        target_metro: chicago
        site_edge: metro2/pop2|metro3/pop1|inter_metro:2-3:2-1
        adjacency_id: inter_metro:2-3
        distance_km: 1261
        hardware:
          source:
            component: 800G-ZR+
            count: 1.0
          target:
            component: 800G-ZR+
            count: 1.0
      risk_groups: *id017
  - source:
      path: metro2/pop2
      match: &id025
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro3/pop2
      match: *id025
    pattern: one_to_one
    link_params:
      capacity: 200.0
      cost: 1261
      attrs:
        link_type: inter_metro_corridor
        source_metro: washington-arlington
        target_metro: chicago
        site_edge: metro2/pop2|metro3/pop2|inter_metro:2-3:2-2
        adjacency_id: inter_metro:2-3
        distance_km: 1261
        hardware:
          source:
            component: 800G-ZR+
            count: 1.0
          target:
            component: 800G-ZR+
            count: 1.0
      risk_groups: *id017
  - source:
      path: metro2/pop2
      match: &id026
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro4/pop1
      match: *id026
    pattern: one_to_one
    link_params:
      capacity: 200.0
      cost: 1216
      attrs:
        link_type: inter_metro_corridor
        source_metro: washington-arlington
        target_metro: atlanta
        site_edge: metro2/pop2|metro4/pop1|inter_metro:2-4:2-1
        adjacency_id: inter_metro:2-4
        distance_km: 1216
        hardware:
          source:
            component: 800G-ZR+
            count: 1.0
          target:
            component: 800G-ZR+
            count: 1.0
      risk_groups: *id020
  - source:
      path: metro2/pop2
      match: &id027
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro4/pop2
      match: *id027
    pattern: one_to_one
    link_params:
      capacity: 200.0
      cost: 1216
      attrs:
        link_type: inter_metro_corridor
        source_metro: washington-arlington
        target_metro: atlanta
        site_edge: metro2/pop2|metro4/pop2|inter_metro:2-4:2-2
        adjacency_id: inter_metro:2-4
        distance_km: 1216
        hardware:
          source:
            component: 800G-ZR+
            count: 1.0
          target:
            component: 800G-ZR+
            count: 1.0
      risk_groups: *id020
  - source:
      path: metro2/pop2
      match: &id028
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro5/pop1
      match: *id028
    pattern: one_to_one
    link_params:
      capacity: 1400.0
      cost: 733
      attrs:
        link_type: inter_metro_corridor
        source_metro: washington-arlington
        target_metro: columbus
        site_edge: metro2/pop2|metro5/pop1|inter_metro:2-5:2-1
        adjacency_id: inter_metro:2-5
        distance_km: 733
        hardware:
          source:
            component: 800G-ZR+
            count: 2.0
          target:
            component: 800G-ZR+
            count: 2.0
      risk_groups: *id023
  - source:
      path: metro2/pop2
      match: &id029
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro5/pop2
      match: *id029
    pattern: one_to_one
    link_params:
      capacity: 1400.0
      cost: 733
      attrs:
        link_type: inter_metro_corridor
        source_metro: washington-arlington
        target_metro: columbus
        site_edge: metro2/pop2|metro5/pop2|inter_metro:2-5:2-2
        adjacency_id: inter_metro:2-5
        distance_km: 733
        hardware:
          source:
            component: 800G-ZR+
            count: 2.0
          target:
            component: 800G-ZR+
            count: 2.0
      risk_groups: *id023
  - source:
      path: metro3/pop1
      match: &id030
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
    target:
      path: metro3/pop2
      match: *id030
    pattern: one_to_one
    link_params:
      capacity: 16000.0
      cost: 138
      attrs:
        link_type: intra_metro
        source_metro: chicago
        target_metro: chicago
        site_edge: metro3/pop1|metro3/pop2|intra_metro:chicago:1-2
        adjacency_id: intra_metro:chicago
        distance_km: 138
        hardware:
          source:
            component: 800G-ZR+
            count: 20.0
          target:
            component: 800G-ZR+
            count: 20.0
  - source:
      path: metro3/pop1
      match: &id031
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro5/pop1
      match: *id031
    pattern: one_to_one
    link_params:
      capacity: 200.0
      cost: 658
      attrs:
        link_type: inter_metro_corridor
        source_metro: chicago
        target_metro: columbus
        site_edge: metro3/pop1|metro5/pop1|inter_metro:3-5:1-1
        adjacency_id: inter_metro:3-5
        distance_km: 658
        hardware:
          source:
            component: 800G-ZR+
            count: 1.0
          target:
            component: 800G-ZR+
            count: 1.0
      risk_groups: &id033
      - corridor_risk_atlanta_chicago
      - corridor_risk_chicago_columbus
  - source:
      path: metro3/pop1
      match: &id032
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro5/pop2
      match: *id032
    pattern: one_to_one
    link_params:
      capacity: 200.0
      cost: 658
      attrs:
        link_type: inter_metro_corridor
        source_metro: chicago
        target_metro: columbus
        site_edge: metro3/pop1|metro5/pop2|inter_metro:3-5:1-2
        adjacency_id: inter_metro:3-5
        distance_km: 658
        hardware:
          source:
            component: 800G-ZR+
            count: 1.0
          target:
            component: 800G-ZR+
            count: 1.0
      risk_groups: *id033
  - source:
      path: metro3/pop1
      match: &id034
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro4/pop1
      match: *id034
    pattern: one_to_one
    link_params:
      capacity: 3200.0
      cost: 1302
      attrs:
        link_type: inter_metro_corridor
        source_metro: chicago
        target_metro: atlanta
        site_edge: metro3/pop1|metro4/pop1|inter_metro:3-4:1-1
        adjacency_id: inter_metro:3-4
        distance_km: 1302
        hardware:
          source:
            component: 800G-ZR+
            count: 4.0
          target:
            component: 800G-ZR+
            count: 4.0
      risk_groups: &id036
      - corridor_risk_atlanta_chicago
      - corridor_risk_atlanta_columbus
      - corridor_risk_chicago_columbus
  - source:
      path: metro3/pop1
      match: &id035
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro4/pop2
      match: *id035
    pattern: one_to_one
    link_params:
      capacity: 3200.0
      cost: 1302
      attrs:
        link_type: inter_metro_corridor
        source_metro: chicago
        target_metro: atlanta
        site_edge: metro3/pop1|metro4/pop2|inter_metro:3-4:1-2
        adjacency_id: inter_metro:3-4
        distance_km: 1302
        hardware:
          source:
            component: 800G-ZR+
            count: 4.0
          target:
            component: 800G-ZR+
            count: 4.0
      risk_groups: *id036
  - source:
      path: metro3/pop2
      match: &id037
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro5/pop1
      match: *id037
    pattern: one_to_one
    link_params:
      capacity: 200.0
      cost: 658
      attrs:
        link_type: inter_metro_corridor
        source_metro: chicago
        target_metro: columbus
        site_edge: metro3/pop2|metro5/pop1|inter_metro:3-5:2-1
        adjacency_id: inter_metro:3-5
        distance_km: 658
        hardware:
          source:
            component: 800G-ZR+
            count: 1.0
          target:
            component: 800G-ZR+
            count: 1.0
      risk_groups: *id033
  - source:
      path: metro3/pop2
      match: &id038
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro5/pop2
      match: *id038
    pattern: one_to_one
    link_params:
      capacity: 200.0
      cost: 658
      attrs:
        link_type: inter_metro_corridor
        source_metro: chicago
        target_metro: columbus
        site_edge: metro3/pop2|metro5/pop2|inter_metro:3-5:2-2
        adjacency_id: inter_metro:3-5
        distance_km: 658
        hardware:
          source:
            component: 800G-ZR+
            count: 1.0
          target:
            component: 800G-ZR+
            count: 1.0
      risk_groups: *id033
  - source:
      path: metro3/pop2
      match: &id039
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro4/pop1
      match: *id039
    pattern: one_to_one
    link_params:
      capacity: 3200.0
      cost: 1302
      attrs:
        link_type: inter_metro_corridor
        source_metro: chicago
        target_metro: atlanta
        site_edge: metro3/pop2|metro4/pop1|inter_metro:3-4:2-1
        adjacency_id: inter_metro:3-4
        distance_km: 1302
        hardware:
          source:
            component: 800G-ZR+
            count: 4.0
          target:
            component: 800G-ZR+
            count: 4.0
      risk_groups: *id036
  - source:
      path: metro3/pop2
      match: &id040
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro4/pop2
      match: *id040
    pattern: one_to_one
    link_params:
      capacity: 3200.0
      cost: 1302
      attrs:
        link_type: inter_metro_corridor
        source_metro: chicago
        target_metro: atlanta
        site_edge: metro3/pop2|metro4/pop2|inter_metro:3-4:2-2
        adjacency_id: inter_metro:3-4
        distance_km: 1302
        hardware:
          source:
            component: 800G-ZR+
            count: 4.0
          target:
            component: 800G-ZR+
            count: 4.0
      risk_groups: *id036
  - source:
      path: metro4/pop1
      match: &id041
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
    target:
      path: metro4/pop2
      match: *id041
    pattern: one_to_one
    link_params:
      capacity: 16000.0
      cost: 142
      attrs:
        link_type: intra_metro
        source_metro: atlanta
        target_metro: atlanta
        site_edge: metro4/pop1|metro4/pop2|intra_metro:atlanta:1-2
        adjacency_id: intra_metro:atlanta
        distance_km: 142
        hardware:
          source:
            component: 800G-ZR+
            count: 20.0
          target:
            component: 800G-ZR+
            count: 20.0
  - source:
      path: metro4/pop1
      match: &id042
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro5/pop1
      match: *id042
    pattern: one_to_one
    link_params:
      capacity: 200.0
      cost: 1028
      attrs:
        link_type: inter_metro_corridor
        source_metro: atlanta
        target_metro: columbus
        site_edge: metro4/pop1|metro5/pop1|inter_metro:4-5:1-1
        adjacency_id: inter_metro:4-5
        distance_km: 1028
        hardware:
          source:
            component: 800G-ZR+
            count: 1.0
          target:
            component: 800G-ZR+
            count: 1.0
      risk_groups: &id044
      - corridor_risk_atlanta_chicago
      - corridor_risk_atlanta_columbus
  - source:
      path: metro4/pop1
      match: &id043
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro5/pop2
      match: *id043
    pattern: one_to_one
    link_params:
      capacity: 200.0
      cost: 1028
      attrs:
        link_type: inter_metro_corridor
        source_metro: atlanta
        target_metro: columbus
        site_edge: metro4/pop1|metro5/pop2|inter_metro:4-5:1-2
        adjacency_id: inter_metro:4-5
        distance_km: 1028
        hardware:
          source:
            component: 800G-ZR+
            count: 1.0
          target:
            component: 800G-ZR+
            count: 1.0
      risk_groups: *id044
  - source:
      path: metro4/pop2
      match: &id045
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro5/pop1
      match: *id045
    pattern: one_to_one
    link_params:
      capacity: 200.0
      cost: 1028
      attrs:
        link_type: inter_metro_corridor
        source_metro: atlanta
        target_metro: columbus
        site_edge: metro4/pop2|metro5/pop1|inter_metro:4-5:2-1
        adjacency_id: inter_metro:4-5
        distance_km: 1028
        hardware:
          source:
            component: 800G-ZR+
            count: 1.0
          target:
            component: 800G-ZR+
            count: 1.0
      risk_groups: *id044
  - source:
      path: metro4/pop2
      match: &id046
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro5/pop2
      match: *id046
    pattern: one_to_one
    link_params:
      capacity: 200.0
      cost: 1028
      attrs:
        link_type: inter_metro_corridor
        source_metro: atlanta
        target_metro: columbus
        site_edge: metro4/pop2|metro5/pop2|inter_metro:4-5:2-2
        adjacency_id: inter_metro:4-5
        distance_km: 1028
        hardware:
          source:
            component: 800G-ZR+
            count: 1.0
          target:
            component: 800G-ZR+
            count: 1.0
      risk_groups: *id044
  - source:
      path: metro5/pop1
      match: &id047
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: leaf
    target:
      path: metro5/pop2
      match: *id047
    pattern: one_to_one
    link_params:
      capacity: 4600.0
      cost: 65
      attrs:
        link_type: intra_metro
        source_metro: columbus
        target_metro: columbus
        site_edge: metro5/pop1|metro5/pop2|intra_metro:columbus:1-2
        adjacency_id: intra_metro:columbus
        distance_km: 65
        hardware:
          source:
            component: 800G-ZR+
            count: 6.0
          target:
            component: 800G-ZR+
            count: 6.0
  - source:
      path: metro5/pop1
      match: &id048
        conditions:
        - attr: role
          operator: ==
          value: core
        - attr: role
          operator: ==
          value: dc
        - attr: role
          operator: ==
          value: leaf
        logic: or
    target:
      path: metro5/dc1
      match: *id048
    pattern: one_to_one
    link_params:
      capacity: 6800.0
      cost: 1
      attrs:
        link_type: dc_to_pop
        source_metro: columbus
        target_metro: columbus
        site_edge: metro5/pop1|metro5/dc1|dc_to_pop:columbus:1-1
        adjacency_id: dc_to_pop:columbus
        distance_km: 1
        hardware:
          source:
            component: 800G-ZR+
            count: 9.0
          target:
            component: 800G-ZR+
            count: 9.0
  - source:
      path: metro5/pop2
      match: *id048
    target:
      path: metro5/dc1
      match: *id048
    pattern: one_to_one
    link_params:
      capacity: 6800.0
      cost: 65
      attrs:
        link_type: dc_to_pop
        source_metro: columbus
        target_metro: columbus
        site_edge: metro5/pop2|metro5/dc1|dc_to_pop:columbus:1-2
        adjacency_id: dc_to_pop:columbus
        distance_km: 65
        hardware:
          source:
            component: 800G-ZR+
            count: 9.0
          target:
            component: 800G-ZR+
            count: 9.0
risk_groups:
- name: corridor_risk_atlanta_chicago
  attrs:
    type: corridor_risk
    distance_km: 1302
- name: corridor_risk_atlanta_columbus
  attrs:
    type: corridor_risk
    distance_km: 1028
- name: corridor_risk_atlanta_washington-arlington
  attrs:
    type: corridor_risk
    distance_km: 1216
- name: corridor_risk_chicago_columbus
  attrs:
    type: corridor_risk
    distance_km: 658
- name: corridor_risk_chicago_washington-arlington
  attrs:
    type: corridor_risk
    distance_km: 1261
- name: corridor_risk_columbus_new-york-jersey-city-newark
  attrs:
    type: corridor_risk
    distance_km: 977
- name: corridor_risk_columbus_washington-arlington
  attrs:
    type: corridor_risk
    distance_km: 733
- name: corridor_risk_new-york-jersey-city-newark_washington-arlington
  attrs:
    type: corridor_risk
    distance_km: 412
failure_policy_set:
  mc_baseline:
    attrs:
      description: 'MC baseline: SRLG, router, intra-metro, node+SRLG'
    modes:
    - weight: 0.6
      rules:
      - entity_scope: risk_group
        rule_type: choice
        count: 1
        weight_by: distance_km
    - weight: 0.25
      rules:
      - entity_scope: node
        rule_type: choice
        count: 1
        conditions:
        - attr: node_type
          operator: '!='
          value: dc_region
        weight_by: attached_capacity_gbps
    - weight: 0.1
      rules:
      - entity_scope: link
        rule_type: choice
        count: 1
        conditions:
        - attr: link_type
          operator: ==
          value: intra_metro
        - attr: link_type
          operator: ==
          value: dc_to_pop
        logic: or
        weight_by: cost
    - weight: 0.05
      rules:
      - entity_scope: node
        rule_type: choice
        count: 1
        conditions:
        - attr: node_type
          operator: '!='
          value: dc_region
      - entity_scope: risk_group
        rule_type: choice
        count: 1
        weight_by: distance_km
traffic_matrix_set:
  baseline_traffic_matrix:
  - source_path: ^metro1/dc1/.*
    sink_path: ^metro2/dc1/.*
    mode: pairwise
    priority: 0
    demand: 84150.0
  - source_path: ^metro2/dc1/.*
    sink_path: ^metro1/dc1/.*
    mode: pairwise
    priority: 0
    demand: 84150.0
  - source_path: ^metro1/dc1/.*
    sink_path: ^metro5/dc1/.*
    mode: pairwise
    priority: 0
    demand: 43750.0
  - source_path: ^metro5/dc1/.*
    sink_path: ^metro1/dc1/.*
    mode: pairwise
    priority: 0
    demand: 43750.0
  - source_path: ^metro2/dc1/.*
    sink_path: ^metro5/dc1/.*
    mode: pairwise
    priority: 0
    demand: 59600.0
  - source_path: ^metro5/dc1/.*
    sink_path: ^metro2/dc1/.*
    mode: pairwise
    priority: 0
    demand: 59600.0
workflow:
- step_type: NetworkStats
  name: network_statistics
- step_type: CapacityEnvelopeAnalysis
  name: capacity_envelope
  source_path: (metro[0-9]+/dc[0-9]+)
  sink_path: (metro[0-9]+/dc[0-9]+)
  mode: pairwise
  parallelism: auto
  shortest_path: false
  flow_placement: PROPORTIONAL
  seed: 42
  iterations: 10
  baseline: true
  failure_policy: mc_baseline
  store_failure_patterns: false
  include_flow_summary: false
- step_type: TrafficMatrixPlacementAnalysis
  name: tm_placement
  matrix_name: baseline_traffic_matrix
  failure_policy: mc_baseline
  iterations: 10
  parallelism: auto
  placement_rounds: auto
  baseline: true
  seed: 42
  store_failure_patterns: false
  include_flow_details: false
